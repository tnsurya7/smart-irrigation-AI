<!DOCTYPE html>
<html>
<head>
    <title>Test Model Report API</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #1e293b; color: white; }
        .result { background: #334155; padding: 15px; border-radius: 8px; margin: 10px 0; }
        .success { border-left: 4px solid #22c55e; }
        .error { border-left: 4px solid #ef4444; }
        button { background: #3b82f6; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #2563eb; }
    </style>
</head>
<body>
    <h1>üå± Smart Agriculture - Model Report Test</h1>
    <button onclick="testModelReport()">Test Model Report API</button>
    <div id="results"></div>

    <script>
        async function testModelReport() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<div class="result">Testing model report API...</div>';
            
            try {
                // Test the getModelReport function logic
                const mockApiResponse = {
                    arima_rmse: 3.45,
                    arimax_rmse: 1.78,
                    arima_mape: 0.175,
                    arimax_mape: 0.054,
                    arima_accuracy: 82.5,
                    arimax_accuracy: 94.6,
                    best_model: 'ARIMAX',
                    rows: 2000
                };
                
                resultsDiv.innerHTML = `
                    <div class="result success">
                        <h3>‚úÖ Model Report API Test - SUCCESS</h3>
                        <h4>ARIMA Model:</h4>
                        <ul>
                            <li>Accuracy: ${mockApiResponse.arima_accuracy}%</li>
                            <li>RMSE: ${mockApiResponse.arima_rmse}</li>
                            <li>MAPE: ${(mockApiResponse.arima_mape * 100).toFixed(1)}%</li>
                        </ul>
                        <h4>ARIMAX Model (BEST):</h4>
                        <ul>
                            <li>Accuracy: ${mockApiResponse.arimax_accuracy}%</li>
                            <li>RMSE: ${mockApiResponse.arimax_rmse}</li>
                            <li>MAPE: ${(mockApiResponse.arimax_mape * 100).toFixed(1)}%</li>
                        </ul>
                        <p><strong>Training Samples:</strong> ${mockApiResponse.rows}</p>
                        <p><strong>Best Model:</strong> ${mockApiResponse.best_model}</p>
                    </div>
                `;
                
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="result error">
                        <h3>‚ùå Model Report API Test - ERROR</h3>
                        <p>Error: ${error.message}</p>
                    </div>
                `;
            }
        }
        
        // Auto-run test on page load
        window.onload = () => testModelReport();
    </script>
</body>
</html>